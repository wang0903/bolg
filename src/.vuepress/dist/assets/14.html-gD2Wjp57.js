const n=JSON.parse('{"key":"v-14698009","path":"/demo/java%E6%96%87%E7%AB%A0/14.html","title":"解决时间格式转换","lang":"zh-CN","frontmatter":{"icon":"pen-to-square","date":"2025-06-07T00:00:00.000Z","category":["java"],"tag":["LocalDateTime"],"star":true,"sticky":true,"description":"解决时间格式转换 1、在VO层转换 @Schema(description = \\"报工日期\\") @DateTimeFormat(pattern = FORMAT_YEAR_MONTH_DAY_HOUR_MINUTE_SECOND) private LocalDateTime reportDate; public void setReportDate(String reportDateString) { if (reportDateString == null || reportDateString.isEmpty()) { throw new IllegalArgumentException(\\"Report date cannot be null or empty\\"); } // 定义支持的日期格式 DateTimeFormatter formatterWithSeconds = DateTimeFormatter.ofPattern(\\"yyyy-MM-dd HH:mm:ss\\"); DateTimeFormatter formatterWithoutSeconds = DateTimeFormatter.ofPattern(\\"yyyy-MM-dd HH:mm\\"); DateTimeFormatter isoFormatter = DateTimeFormatter.ISO_LOCAL_DATE_TIME; // 支持 ISO 8601 格式 try { // 尝试使用 ISO 8601 格式解析 this.reportDate = LocalDateTime.parse(reportDateString, isoFormatter); } catch (Exception e) { try { // 如果 ISO 格式解析失败，尝试使用包含秒的格式解析 this.reportDate = LocalDateTime.parse(reportDateString, formatterWithSeconds); } catch (Exception ex) { try { // 如果包含秒的格式解析失败，尝试使用不包含秒的格式解析 LocalDateTime dateTimeWithoutSeconds = LocalDateTime.parse(reportDateString, formatterWithoutSeconds); // 补全秒部分为 00 this.reportDate = dateTimeWithoutSeconds.withSecond(0).withNano(0); } catch (Exception ex2) { // 如果所有格式都无法解析，则抛出异常 throw new IllegalArgumentException(\\"Invalid date format: \\" + reportDateString); } } } }","head":[["meta",{"property":"og:url","content":"https://github.com/demo/java%E6%96%87%E7%AB%A0/14.html"}],["meta",{"property":"og:title","content":"解决时间格式转换"}],["meta",{"property":"og:description","content":"解决时间格式转换 1、在VO层转换 @Schema(description = \\"报工日期\\") @DateTimeFormat(pattern = FORMAT_YEAR_MONTH_DAY_HOUR_MINUTE_SECOND) private LocalDateTime reportDate; public void setReportDate(String reportDateString) { if (reportDateString == null || reportDateString.isEmpty()) { throw new IllegalArgumentException(\\"Report date cannot be null or empty\\"); } // 定义支持的日期格式 DateTimeFormatter formatterWithSeconds = DateTimeFormatter.ofPattern(\\"yyyy-MM-dd HH:mm:ss\\"); DateTimeFormatter formatterWithoutSeconds = DateTimeFormatter.ofPattern(\\"yyyy-MM-dd HH:mm\\"); DateTimeFormatter isoFormatter = DateTimeFormatter.ISO_LOCAL_DATE_TIME; // 支持 ISO 8601 格式 try { // 尝试使用 ISO 8601 格式解析 this.reportDate = LocalDateTime.parse(reportDateString, isoFormatter); } catch (Exception e) { try { // 如果 ISO 格式解析失败，尝试使用包含秒的格式解析 this.reportDate = LocalDateTime.parse(reportDateString, formatterWithSeconds); } catch (Exception ex) { try { // 如果包含秒的格式解析失败，尝试使用不包含秒的格式解析 LocalDateTime dateTimeWithoutSeconds = LocalDateTime.parse(reportDateString, formatterWithoutSeconds); // 补全秒部分为 00 this.reportDate = dateTimeWithoutSeconds.withSecond(0).withNano(0); } catch (Exception ex2) { // 如果所有格式都无法解析，则抛出异常 throw new IllegalArgumentException(\\"Invalid date format: \\" + reportDateString); } } } }"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-06-07T08:40:17.000Z"}],["meta",{"property":"article:author","content":"小辣椒"}],["meta",{"property":"article:tag","content":"LocalDateTime"}],["meta",{"property":"article:published_time","content":"2025-06-07T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-06-07T08:40:17.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"解决时间格式转换\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-06-07T00:00:00.000Z\\",\\"dateModified\\":\\"2025-06-07T08:40:17.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"小辣椒\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[{"level":2,"title":"1、在VO层转换","slug":"_1、在vo层转换","link":"#_1、在vo层转换","children":[]}],"git":{"createdTime":1749285617000,"updatedTime":1749285617000,"contributors":[{"name":"wangbinggui","email":"1819493621@qq.com","commits":1}]},"readingTime":{"minutes":0.74,"words":222},"filePathRelative":"demo/java文章/14.md","localizedDate":"2025年6月7日","excerpt":"<h1> 解决时间格式转换</h1>\\n<h2> 1、在VO层转换</h2>\\n<div class=\\"language-java line-numbers-mode\\" data-ext=\\"java\\"><pre class=\\"language-java\\"><code><span class=\\"token annotation punctuation\\">@Schema</span><span class=\\"token punctuation\\">(</span>description <span class=\\"token operator\\">=</span> <span class=\\"token string\\">\\"报工日期\\"</span><span class=\\"token punctuation\\">)</span>\\n    <span class=\\"token annotation punctuation\\">@DateTimeFormat</span><span class=\\"token punctuation\\">(</span>pattern <span class=\\"token operator\\">=</span> <span class=\\"token constant\\">FORMAT_YEAR_MONTH_DAY_HOUR_MINUTE_SECOND</span><span class=\\"token punctuation\\">)</span>\\n    <span class=\\"token keyword\\">private</span> <span class=\\"token class-name\\">LocalDateTime</span> reportDate<span class=\\"token punctuation\\">;</span>\\n\\n    <span class=\\"token keyword\\">public</span> <span class=\\"token keyword\\">void</span> <span class=\\"token function\\">setReportDate</span><span class=\\"token punctuation\\">(</span><span class=\\"token class-name\\">String</span> reportDateString<span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token keyword\\">if</span> <span class=\\"token punctuation\\">(</span>reportDateString <span class=\\"token operator\\">==</span> <span class=\\"token keyword\\">null</span> <span class=\\"token operator\\">||</span> reportDateString<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">isEmpty</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n            <span class=\\"token keyword\\">throw</span> <span class=\\"token keyword\\">new</span> <span class=\\"token class-name\\">IllegalArgumentException</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">\\"Report date cannot be null or empty\\"</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n        <span class=\\"token punctuation\\">}</span>\\n\\n        <span class=\\"token comment\\">// 定义支持的日期格式</span>\\n        <span class=\\"token class-name\\">DateTimeFormatter</span> formatterWithSeconds <span class=\\"token operator\\">=</span> <span class=\\"token class-name\\">DateTimeFormatter</span><span class=\\"token punctuation\\">.</span><span class=\\"token function\\">ofPattern</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">\\"yyyy-MM-dd HH:mm:ss\\"</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n        <span class=\\"token class-name\\">DateTimeFormatter</span> formatterWithoutSeconds <span class=\\"token operator\\">=</span> <span class=\\"token class-name\\">DateTimeFormatter</span><span class=\\"token punctuation\\">.</span><span class=\\"token function\\">ofPattern</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">\\"yyyy-MM-dd HH:mm\\"</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n        <span class=\\"token class-name\\">DateTimeFormatter</span> isoFormatter <span class=\\"token operator\\">=</span> <span class=\\"token class-name\\">DateTimeFormatter</span><span class=\\"token punctuation\\">.</span><span class=\\"token constant\\">ISO_LOCAL_DATE_TIME</span><span class=\\"token punctuation\\">;</span> <span class=\\"token comment\\">// 支持 ISO 8601 格式</span>\\n\\n        <span class=\\"token keyword\\">try</span> <span class=\\"token punctuation\\">{</span>\\n            <span class=\\"token comment\\">// 尝试使用 ISO 8601 格式解析</span>\\n            <span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>reportDate <span class=\\"token operator\\">=</span> <span class=\\"token class-name\\">LocalDateTime</span><span class=\\"token punctuation\\">.</span><span class=\\"token function\\">parse</span><span class=\\"token punctuation\\">(</span>reportDateString<span class=\\"token punctuation\\">,</span> isoFormatter<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n        <span class=\\"token punctuation\\">}</span> <span class=\\"token keyword\\">catch</span> <span class=\\"token punctuation\\">(</span><span class=\\"token class-name\\">Exception</span> e<span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n            <span class=\\"token keyword\\">try</span> <span class=\\"token punctuation\\">{</span>\\n                <span class=\\"token comment\\">// 如果 ISO 格式解析失败，尝试使用包含秒的格式解析</span>\\n                <span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>reportDate <span class=\\"token operator\\">=</span> <span class=\\"token class-name\\">LocalDateTime</span><span class=\\"token punctuation\\">.</span><span class=\\"token function\\">parse</span><span class=\\"token punctuation\\">(</span>reportDateString<span class=\\"token punctuation\\">,</span> formatterWithSeconds<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n            <span class=\\"token punctuation\\">}</span> <span class=\\"token keyword\\">catch</span> <span class=\\"token punctuation\\">(</span><span class=\\"token class-name\\">Exception</span> ex<span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n                <span class=\\"token keyword\\">try</span> <span class=\\"token punctuation\\">{</span>\\n                    <span class=\\"token comment\\">// 如果包含秒的格式解析失败，尝试使用不包含秒的格式解析</span>\\n                    <span class=\\"token class-name\\">LocalDateTime</span> dateTimeWithoutSeconds <span class=\\"token operator\\">=</span> <span class=\\"token class-name\\">LocalDateTime</span><span class=\\"token punctuation\\">.</span><span class=\\"token function\\">parse</span><span class=\\"token punctuation\\">(</span>reportDateString<span class=\\"token punctuation\\">,</span> formatterWithoutSeconds<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n                    <span class=\\"token comment\\">// 补全秒部分为 00</span>\\n                    <span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>reportDate <span class=\\"token operator\\">=</span> dateTimeWithoutSeconds<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">withSecond</span><span class=\\"token punctuation\\">(</span><span class=\\"token number\\">0</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">.</span><span class=\\"token function\\">withNano</span><span class=\\"token punctuation\\">(</span><span class=\\"token number\\">0</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n                <span class=\\"token punctuation\\">}</span> <span class=\\"token keyword\\">catch</span> <span class=\\"token punctuation\\">(</span><span class=\\"token class-name\\">Exception</span> ex2<span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n                    <span class=\\"token comment\\">// 如果所有格式都无法解析，则抛出异常</span>\\n                    <span class=\\"token keyword\\">throw</span> <span class=\\"token keyword\\">new</span> <span class=\\"token class-name\\">IllegalArgumentException</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">\\"Invalid date format: \\"</span> <span class=\\"token operator\\">+</span> reportDateString<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n                <span class=\\"token punctuation\\">}</span>\\n            <span class=\\"token punctuation\\">}</span>\\n        <span class=\\"token punctuation\\">}</span>\\n    <span class=\\"token punctuation\\">}</span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{n as data};
